---
import ContactForm from "../components/ContactForm";
---

<header class="nav">
  <nav class="header-row">
    <div class="social-links">
      <a href="https://www.linkedin.com/in/anton-orlov-b16126269/" class="social-link" aria-label="LinkedIn" target="_blank">
        <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <title>LinkedIn</title>
          <path fill="#ffffff" d="M19 0h-14c-2.76 0-5 2.24-5 5v14c0 2.76 2.24 5 5 5h14c2.76 0 5-2.24 5-5v-14c0-2.76-2.24-5-5-5zm-11.5 20h-3v-9h3v9zm-1.5-10.25c-.966 0-1.75-.784-1.75-1.75S5.534 6.5 6.5 6.5s1.75.784 1.75 1.75-.784 1.75-1.75 1.75zm13 10.25h-3v-4.5c0-1.08-.02-2.47-1.5-2.47-1.5 0-1.73 1.17-1.73 2.38v4.59h-3v-9h2.89v1.23h.04c.403-.76 1.387-1.56 2.855-1.56 3.053 0 3.62 2.008 3.62 4.62v4.71z"/>
        </svg>
      </a>
      <a href="https://www.instagram.com/orochiyo?igsh=MXd4MW9sMHN6czI2eQ==" class="social-link" aria-label="Instagram" target="_blank">
        <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <title>Instagram</title>
          <path fill="#ffffff" d="M12 2.2c3.1 0 3.5 0 4.7.1 1.2.1 1.9.3 2.3.5.6.2 1 .5 1.5 1 .5.5.8.9 1 1.5.2.4.4 1.1.5 2.3.1 1.2.1 1.6.1 4.7s0 3.5-.1 4.7c-.1 1.2-.3 1.9-.5 2.3-.2.6-.5 1-.9 1.5-.5.5-.9.8-1.5 1-.4.2-1.1.4-2.3.5-1.2.1-1.6.1-4.7.1s-3.5 0-4.7-.1c-1.2-.1-1.9-.3-2.3-.5-.6-.2-1-.5-1.5-1-.5-.5-.8-.9-1-1.5-.2-.4-.4-1.1-.5-2.3-.1-1.2-.1-1.6-.1-4.7s0-3.5.1-4.7c.1-1.2.3-1.9.5-2.3.2-.6.5-1 1-1.5.5-.5.9-.8 1.5-1 .4-.2 1.1-.4 2.3-.5 1.2-.1 1.6-.1 4.7-.1M12 0C8.741 0 8.332.015 7.052.072 5.771.129 4.807.308 4.042.633c-.78.337-1.44.787-2.102 1.45C1.278 2.747.828 3.407.49 4.187.166 4.952-.013 5.915-.07 7.196-.127 8.476-.142 8.885-.142 12c0 3.115.015 3.524.072 4.804.057 1.281.236 2.244.561 3.01.337.78.787 1.44 1.45 2.102.662.662 1.322 1.112 2.102 1.45.766.325 1.73.504 3.01.561 1.28.057 1.689.072 4.804.072s3.524-.015 4.804-.072c1.281-.057 2.244-.236 3.01-.561.78-.337 1.44-.787 2.102-1.45.662-.662 1.112-1.322 1.45-2.102.325-.766.504-1.73.561-3.01.057-1.28.072-1.689.072-4.804s-.015-3.524-.072-4.804c-.057-1.281-.236-2.244-.561-3.01-.337-.78-.787-1.44-1.45-2.102-.662-.662-1.322-1.112-2.102-1.45-.766-.325-1.73-.504-3.01-.561C15.524.015 15.115 0 12 0zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-8 3.999 3.999 0 0 1 0 8zm6.406-11.845a1.44 1.44 0 1 0 0-2.88 1.44 1.44 0 0 0 0 2.88z"/>
        </svg>
      </a>
    </div>
    
    <div class="center-group" id="mobile-menu">
      <a href="/" class="logo">Anton Orlov</a>
      <div class="nav-links" id="nav-links">
        <a href="/" class="nav-link">Home</a>
        <a href="/about" class="nav-link">CV</a>
        <a href="/blog" class="nav-link">Blog</a>
        <div class="mobile-contact-button">
          <ContactForm client:load />
        </div>
      </div>
    </div>
    
    <div class="contact-button-container desktop-contact-button">
      <ContactForm client:load />
    </div>
    
    <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle menu">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
  </nav>
  <div class="divider"></div>
</header>

<div class="header-spacer"></div>

<script>
document.addEventListener("DOMContentLoaded", function() {
  // Mobile menu toggle functionality
  const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');
  const headerElement = document.querySelector('.nav');
  
  if (mobileMenuToggle && mobileMenu) {
    mobileMenuToggle.addEventListener('click', function() {
      mobileMenuToggle.classList.toggle('active');
      mobileMenu.classList.toggle('active');
      document.body.classList.toggle('menu-open');
    });
    
    // Close menu when clicking outside
    document.addEventListener('click', function(event) {
      const target = event.target as HTMLElement;
      const isClickInside = mobileMenu.contains(target) || 
                            mobileMenuToggle.contains(target);
      
      if (!isClickInside && mobileMenu.classList.contains('active')) {
        mobileMenuToggle.classList.remove('active');
        mobileMenu.classList.remove('active');
        document.body.classList.remove('menu-open');
      }
    });
    
    // Close menu when clicking on a link
    const navItems = mobileMenu.querySelectorAll('.nav-link');
    navItems.forEach(item => {
      item.addEventListener('click', function() {
        mobileMenuToggle.classList.remove('active');
        mobileMenu.classList.remove('active');
        document.body.classList.remove('menu-open');
      });
    });
  }
  
  // Add active class to current page link
  const currentPath = window.location.pathname;
  const navLinks = document.querySelectorAll<HTMLAnchorElement>('.nav-link');
  
  navLinks.forEach((link: HTMLAnchorElement) => {
    const linkPath = link.getAttribute('href');
    if (currentPath === linkPath || (currentPath === '/' && linkPath === '/')) {
      link.classList.add('active');
    }
  });
  
  // Handle scroll behavior
  let lastScrollTop = 0;
  window.addEventListener('scroll', function() {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    
    if (headerElement) {
      if (scrollTop > lastScrollTop && scrollTop > 100) {
        // Scrolling down
        headerElement.classList.add('header-hidden');
      } else {
        // Scrolling up
        headerElement.classList.remove('header-hidden');
      }
    }
    
    lastScrollTop = scrollTop;
  });
});
</script>

<style is:global>
  /* Global styles for the contact form components */
  .custom-contact-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 1.2rem;
  background: linear-gradient(270deg, #d38f41, #955f21);
  color: white;
  border-radius: 4px;
  text-decoration: none;
  font-size: 0.9rem;
  font-weight: 500;
  transition: all 0.3s ease;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  border: none;
  cursor: pointer;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  gap: 8px;
}

.custom-contact-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 4px 8px rgba(211, 143, 65, 0.5);
  background: linear-gradient(270deg, #955f21, #d38f41);
}

/* Dialog styling */
.contact-form-dialog {
  border-radius: 12px !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  background-color: #1a1a1a !important;
  padding: 1.5rem !important;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5) !important;
}

.contact-form-dialog h2 {
  color: #ffffff !important;
  letter-spacing: -0.01em;
}

.contact-form-dialog p {
  color: #adadad !important;
  font-size: 1rem;
  margin-top: 0.5rem;
}

/* Form input styling */
.form-input, .form-textarea {
  background-color: #2a2a2a !important;
  border: 1px solid #3a3a3a !important;
  border-radius: 8px !important;
  color: #ffffff !important;
  padding: 0.8rem 1rem !important;
  font-size: 1rem !important;
  transition: all 0.2s ease;
}

.form-input:focus, .form-textarea:focus {
  border-color: #d38f41 !important;
  box-shadow: 0 0 0 2px rgba(211, 143, 65, 0.25) !important;
  outline: none;
}

.form-input::placeholder, .form-textarea::placeholder {
  color: #777777 !important;
  opacity: 1;
}

/* Label styling */
form label {
  color: #e0e0e0 !important;
  font-weight: 500 !important;
  margin-bottom: 0.5rem !important;
  display: block;
}

/* Submit button styling */
.contact-submit-btn {
  background: linear-gradient(270deg, #d38f41, #955f21) !important;
  border: none !important;
  color: white !important;
  font-weight: 600 !important;
  font-size: 1rem !important;
  padding: 0.8rem 1.5rem !important;
  border-radius: 8px !important;
  transition: all 0.3s ease !important;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2) !important;
}

.contact-submit-btn:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 8px rgba(211, 143, 65, 0.5) !important;
  background: linear-gradient(270deg, #e79d4b, #a66926) !important;
}

.contact-submit-btn:focus {
  box-shadow: 0 0 0 2px rgba(211, 143, 65, 0.4) !important;
}

.contact-submit-btn:disabled {
  opacity: 0.7 !important;
  cursor: not-allowed !important;
  transform: none !important;
}

/* Error message styling */
form .text-red-500 {
  color: #ff6b6b !important;
  font-size: 0.85rem !important;
  margin-top: 0.25rem !important;
}

/* Mobile styling */
@media (max-width: 480px) {
  .custom-contact-btn {
    font-size: 0.7rem;
    padding: 0;
    border-radius: 50%;
    width: 36px;
    height: 36px;
    justify-content: center;
  }
  
  .custom-contact-btn svg {
    margin: 0;
  }
  
  .contact-form-dialog {
    padding: 1.25rem !important;
    width: 95vw !important;
    max-width: 95vw !important;
  }
  
  .contact-form-dialog h2 {
    font-size: 1.5rem !important;
  }
  
  .form-input, .form-textarea {
    padding: 0.6rem 0.8rem !important;
    font-size: 0.95rem !important;
  }
}
</style>

<style>
.nav {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
  background: rgba(22,22,22,0.97);
  height: 72px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0 2px 20px rgba(0,0,0,0.08);
  transition: transform 0.3s ease;
}

.header-hidden {
  transform: translateY(-72px);
}

.header-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 72px;
  max-width: 1400px;
  margin: 0 auto;
  width: 100%;
  padding: 0 2rem;
  position: relative;
}

.social-links {
  display: flex;
  gap: 0.7rem;
}

.center-group {
  display: flex;
  align-items: center;
  gap: 2.5rem;
}

.logo {
  font-family: 'Montserrat', sans-serif;
  font-size: 1.5rem;
  font-weight: 700;
  color: #fff;
  text-decoration: none;
  margin-right: 2rem;
  letter-spacing: 0.05rem;
}

.nav-links {
  display: flex;
  gap: 1.5rem;
}

.nav-link {
  font-family: 'Montserrat', sans-serif;
  font-size: 1rem;
  font-weight: 500;
  color: rgba(255,255,255,0.85);
  text-decoration: none;
  position: relative;
  padding: 0.5rem 0;
  transition: color 0.3s;
}

.nav-link:hover, .nav-link.active {
  color: #fff;
}

.nav-link::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, #d38f41, #64155f);
  transition: width 0.3s;
}

.nav-link:hover::after, .nav-link.active::after {
  width: 100%;
}

.contact-button-container {
  display: flex;
  align-items: center;
}

.mobile-contact-button {
  display: none;
}

.divider {
  width: 100%;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(211,143,65,0.3), transparent);
}

/* Mobile menu toggle button */
.mobile-menu-toggle {
  display: none;
  flex-direction: column;
  justify-content: space-between;
  width: 30px;
  height: 21px;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  z-index: 1001;
}

.hamburger-line {
  width: 100%;
  height: 3px;
  background-color: #fff;
  border-radius: 3px;
  transition: all 0.3s ease;
}

.mobile-menu-toggle.active .hamburger-line:nth-child(1) {
  transform: translateY(9px) rotate(45deg);
}

.mobile-menu-toggle.active .hamburger-line:nth-child(2) {
  opacity: 0;
}

.mobile-menu-toggle.active .hamburger-line:nth-child(3) {
  transform: translateY(-9px) rotate(-45deg);
}

/* Responsive styles */
@media (max-width: 900px) {
  .header-row { 
    padding: 0 1rem; 
  }
  
  .center-group { 
    gap: 1rem; 
  }
  
  .logo { 
    margin-right: 1rem; 
    font-size: 1.1rem; 
  }
  
  .nav-links { 
    gap: 0.7rem; 
  }
}

@media (max-width: 768px) {
  .mobile-menu-toggle {
    display: flex;
  }
  
  .center-group {
    flex-direction: column;
    align-items: flex-start;
    position: absolute;
    top: 72px;
    left: 0;
    width: 100%;
    background: rgba(22,22,22,0.97);
    padding: 1rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transform: translateY(-100%);
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
  }
  
  .center-group.active {
    transform: translateY(0);
    opacity: 1;
    visibility: visible;
  }
  
  .logo {
    margin-bottom: 1rem;
  }
  
  .nav-links {
    flex-direction: column;
    width: 100%;
    gap: 1rem;
  }
  
  .nav-link {
    display: block;
    padding: 0.5rem 0;
    width: 100%;
    text-align: left;
  }
  
  .desktop-contact-button {
    display: flex;
  }
  
  .mobile-contact-button {
    display: flex;
    margin-top: 1rem;
    width: 100%;
    justify-content: center;
  }
  
  body.menu-open {
    overflow: hidden;
  }
}

@media (max-width: 480px) {
  .header-row {
    padding: 0 0.75rem;
  }
  
  .logo {
    font-size: 1rem;
  }
  
  .social-links {
    gap: 0.5rem;
  }
  
  .social-link {
    width: 32px;
    height: 32px;
  }
}
</style>